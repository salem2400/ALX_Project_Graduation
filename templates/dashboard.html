{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="welcome-section">
        <h1>Welcome, {{ current_user.username }}!</h1>

        <div class="results-section">
            <h2>Quiz Results</h2>
            {% if regular_quiz_results or custom_quiz_results %}
                <div class="results-grid">
                    {% for result in regular_quiz_results %}
                    <div class="result-box">
                        <h3>Regular Quiz</h3>
                        <p class="score">Score: {{ result.score }}%</p>
                        <p class="date">{{ result.completed_at.strftime('%Y-%m-%d %H:%M') }}</p>
                        <a href="{{ url_for('routes.quiz_result', quiz_id=result.id) }}" class="btn">View Details</a>
                    </div>
                    {% endfor %}
                    {% for result in custom_quiz_results %}
                    <div class="result-box">
                        <h3>Custom Quiz</h3>
                        <p class="score">Score: {{ result.score }}%</p>
                        <p class="date">{{ result.completed_at.strftime('%Y-%m-%d %H:%M') }}</p>
                        <a href="{{ url_for('routes.quiz_result', quiz_id=result.id) }}" class="btn">View Details</a>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="empty-state">
                    <p>No quiz results yet. Take a quiz to get started!</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<style>
.welcome-section {
    text-align: center;
    margin: 1rem auto;
}

.welcome-section h1 {
    margin-bottom: 2rem;
    color: #333;
}

.results-section {
    margin-top: 2rem;
}

.results-section h2 {
    color: #333;
    margin-bottom: 1rem;
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.result-box {
    padding: 1rem;
    border: 1px solid #ddd;
    background: white;
}

.result-box h3 {
    color: #333;
    margin-bottom: 1rem;
}

.score {
    color: #28a745;
    margin-bottom: 0.5rem;
}

.date {
    color: #666;
    margin-bottom: 1rem;
}

.empty-state {
    text-align: center;
    color: #666;
    padding: 1rem;
    background: #f8f9fa;
    border: 1px solid #ddd;
    margin: 1rem 0;
}

.btn {
    display: inline-block;
    padding: 0.5rem 1rem;
    margin: 0 0.5rem;
    background: #007bff;
    color: white;
    text-decoration: none;
    border: none;
}
</style>
{% endblock %}
