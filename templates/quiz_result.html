{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="welcome-section">
        <h1>Quiz Results</h1>
        <p>Score: {{ quiz_result.score }}%</p>
        <p>Time: {{ quiz_result.time_taken }} seconds</p>

        <div class="questions">
            {% for question in questions %}
            <div class="question">
                <h3>Question {{ loop.index }}</h3>
                <p>{{ question.text }}</p>
                <p class="answer {% if question.is_correct %}correct{% else %}incorrect{% endif %}">
                    Your answer: {{ question.user_answer or 'Not answered' }}
                </p>
                {% if not question.is_correct %}
                <p class="answer correct">Correct: {{ question.correct_answer }}</p>
                {% endif %}
            </div>
            {% endfor %}
        </div>

        <div class="actions">
            {% if quiz_result.is_custom_quiz %}
                <a href="{{ url_for('routes.start_group_quiz', group_id=quiz_result.group_id) }}" class="btn">Try Again</a>
                <a href="{{ url_for('routes.custom_questions') }}" class="btn">Back to Questions</a>
            {% else %}
                <a href="{{ url_for('routes.quiz') }}" class="btn">Try Again</a>
            {% endif %}
            <a href="{{ url_for('routes.dashboard') }}" class="btn">Back to Dashboard</a>
        </div>
    </div>
</div>

<style>
.welcome-section {
    text-align: center;
    max-width: 800px;
    margin: 2rem auto;
    padding: 1rem;
}

.questions {
    margin: 2rem 0;
}

.question {
    background: white;
    padding: 1rem;
    margin: 1rem 0;
    text-align: left;
    border: 1px solid #ddd;
}

.answer {
    margin: 0.5rem 0;
    padding: 0.5rem;
}

.answer.correct {
    background: #d4edda;
    color: #155724;
}

.answer.incorrect {
    background: #f8d7da;
    color: #721c24;
}

.actions {
    margin-top: 2rem;
}

.btn {
    display: inline-block;
    padding: 0.5rem 1rem;
    margin: 0 0.5rem;
    background: #007bff;
    color: white;
    text-decoration: none;
    border: none;
}
</style>
{% endblock %}